(this["webpackJsonpreact-travel"]=this["webpackJsonpreact-travel"]||[]).push([[0],{126:function(e,t,n){e.exports={"intro-container":"ProductIntro_intro-container__QH2fQ","intro-detail-content":"ProductIntro_intro-detail-content__1PSaz","intro-detail-strong-text":"ProductIntro_intro-detail-strong-text__2Kszo"}},181:function(e,t,n){e.exports={content:"productCollection_content__1hKBO","side-image":"productCollection_side-image__3yXn2"}},182:function(e,t,n){e.exports={"filter-divider":"FilterArea_filter-divider__1VKcE"}},183:function(e,t,n){e.exports={"page-content":"SearchPage_page-content__2gQ3P","product-list-container":"SearchPage_product-list-container__1qpIR"}},184:function(e,t,n){e.exports={"product-list-container":"shoppingCart_product-list-container__3ZDZz","payment-card-container":"shoppingCart_payment-card-container__VODbN"}},206:function(e,t,n){e.exports={App:"App_App__16ZpL"}},216:function(e,t,n){e.exports={slider:"Carousel_slider__2aVPa"}},217:function(e,t,n){e.exports={"side-menu":"SideMenu_side-menu__qusO9"}},221:function(e,t,n){e.exports={"payment-form":"PaymentForm_payment-form__1rKlp"}},222:function(e,t,n){e.exports={"page-content":"mainLayout_page-content__2mvvh"}},224:function(e,t,n){e.exports={"register-form":"signIn_register-form__3UJX1"}},225:function(e,t,n){e.exports={"register-form":"registerForm_register-form__1hOMw"}},226:function(e){e.exports=JSON.parse('{"header":{"slogan":"\u8ba9\u65c5\u884c\u66f4\u5e78\u798f","add_new_language":"\u6dfb\u52a0\u65b0\u8bed\u8a00","title":"React \u65c5\u6e38\u7f51","register":"\u6ce8\u518c","signin":"\u767b\u9646","home_page":"\u65c5\u6e38\u9996\u9875","weekend":"\u5468\u672b\u6e38","group":"\u8ddf\u56e2\u6e38","backpack":"\u81ea\u7531\u884c","private":"\u79c1\u5bb6\u56e2","cruise":"\u90ae\u8f6e","hotel":"\u9152\u5e97+\u666f\u70b9","local":"\u5f53\u5730\u73a9\u4e50","theme":"\u4e3b\u9898\u6e38","custom":"\u5b9a\u5236\u6e38","study":"\u6e38\u5b66","visa":"\u7b7e\u8bc1","enterprise":"\u4f01\u4e1a\u6e38","high_end":"\u9ad8\u7aef\u6e38","outdoor":"\u7231\u73a9\u6237\u5916","insurance":"\u4fdd\u9669"},"footer":{"detail":"\u7248\u6743\u6240\u6709 @ React \u65c5\u6e38\u7f51"},"home_page":{"hot_recommended":"\u7206\u6b3e\u63a8\u8350","new_arrival":"\u65b0\u54c1\u4e0a\u5e02","domestic_travel":"\u56fd\u5185\u6e38\u63a8\u8350","joint_venture":"\u5408\u4f5c\u4f01\u4e1a","start_from":"(\u8d77)"}}')},227:function(e){e.exports=JSON.parse('{"header":{"slogan":"Make travel happier","add_new_language":"add new language","title":"React Travel","register":"Register","signin":"Sign In","home_page":"Home","weekend":"Weekend","group":"Group","backpack":"Backpack","private":"Private","cruise":"Cruise","hotel":"Hotel & Attractions","local":"Local","theme":"Theme","custom":"Custom","study":"Study","visa":"Visa","enterprise":"Enterprise","high_end":"High-end","outdoor":"Outdoor","insurance":"Insurance"},"footer":{"detail":"All rights reserved @ ReactTravel.com"},"home_page":{"hot_recommended":"Hot Recommended","new_arrival":"New arrival","domestic_travel":"Domestic travel","joint_venture":"Joint Venture","start_from":"(start from)"}}')},247:function(e,t,n){},362:function(e,t,n){"use strict";n.r(t);var r,a,c,i,s,o=n(0),l=n.n(o),u=n(29),d=n.n(u),j=(n(247),n(30)),p=n(238),b=n(206),h=n.n(b),O=n(34),g=n(42),m=n(27),x=n.n(m),f=n(43),y=n(132),v=n(133),_=n(158),k=n(154),w=n(364),I=n(373),C=n(207),S=n(4),P=function(){var e=Object(C.a)().t;return Object(S.jsx)(w.a.Footer,{children:Object(S.jsxs)(I.a.Title,{level:3,style:{textAlign:"center"},children:["\u7248\u6743\u6240\u6709 @ recat \u65c5\u6e38\u7f51",e("footer.detail")]})})},z=n(155),N=n(65),T=n.n(N),F=n.p+"static/media/logo.6ce24c58.svg",R=n(156),L=n(95),A=n(62),M=n(377),H=n(381),D=n(40),V=D.c,q=n(215),E="change_language",X="add_language",B=n(23),J=n(38),K=n(39),W=n.n(K),Q=n(233),G=Object(J.b)("user/signIn",function(){var e=Object(f.a)(x.a.mark((function e(t,n){var r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.post("http://123.56.149.216:8080/auth/login",{email:t.email,password:t.password});case 2:return r=e.sent,a=r.data,e.abrupt("return",a.token);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),U=Object(J.c)({name:"user",initialState:{loading:!1,error:null,token:null},reducers:{logOut:function(e){e.token=null,e.error=null,e.loading=!1}},extraReducers:(r={},Object(B.a)(r,G.pending.type,(function(e){e.loading=!0})),Object(B.a)(r,G.fulfilled.type,(function(e,t){Q.b.success({content:"\u767b\u5f55\u6210\u529f",key:"login"}),e.token=t.payload,e.loading=!1,e.error=null})),Object(B.a)(r,G.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),r)}),Y=function(){var e=Object(O.g)(),t=(Object(O.h)(),Object(O.i)(),Object(O.j)(),V((function(e){return e.language.language}))),n=V((function(e){return e.language.languageList})),r=Object(D.b)(),a=V((function(e){return e.user.token})),c=Object(o.useState)(""),i=Object(z.a)(c,2),s=i[0],l=i[1],u=V((function(e){return e.shoppingCart.items})),d=V((function(e){return e.shoppingCart.loading}));Object(o.useEffect)((function(){if(a){var e=Object(q.a)(a);l(e.username)}}),[a]);return Object(S.jsxs)("div",{className:T.a["app-header"],children:[Object(S.jsx)("div",{className:T.a["top-header"],children:Object(S.jsxs)("div",{className:T.a.inner,children:[Object(S.jsx)(I.a.Text,{children:"\u8ba9\u65c5\u6e38\u66f4\u5e78\u798f"}),Object(S.jsx)(R.a.Button,{style:{marginLeft:15},overlay:Object(S.jsxs)(L.a,{onClick:function(e){var t;"new"===e.key?r({type:X,payload:{name:"\u65b0\u8bed\u8a00",code:"new_lang"}}):r((t=e.key,{type:E,payload:t}))},children:[n.map((function(e){return Object(S.jsx)(L.a.Item,{children:e.name},e.code)})),Object(S.jsx)(L.a.Item,{children:"\u6dfb\u52a0\u65b0\u8bed\u8a00"},"new")]}),icon:Object(S.jsx)(H.a,{}),children:"zh"===t?"\u4e2d\u6587":"English"}),a?Object(S.jsxs)(A.a.Group,{className:T.a["button-group"],children:[Object(S.jsxs)("span",{children:["\u6b22\u8fce",Object(S.jsx)(I.a.Text,{children:s})]}),Object(S.jsxs)(A.a,{loading:d,onClick:function(){return e.push("/shoppingCart")},children:["\u8d2d\u7269\u8f66(",u.length,")"]}),Object(S.jsx)(A.a,{onClick:function(){r(U.actions.logOut()),e.push("/")},children:"\u6ce8\u9500"})]}):Object(S.jsxs)(A.a.Group,{className:T.a["button-group"],children:[Object(S.jsx)(A.a,{onClick:function(){return e.push("/register")},children:"\u6ce8\u518c"}),Object(S.jsx)(A.a,{onClick:function(){return e.push("/signIn")},children:"\u767b\u5f55"})]})]})}),Object(S.jsxs)(w.a.Header,{className:T.a["main-header"],children:[Object(S.jsxs)("span",{onClick:function(){e.push("/")},children:[Object(S.jsx)("img",{src:F,alt:"logo",className:T.a["App-logo"]}),Object(S.jsx)(I.a.Title,{level:3,className:T.a.title,children:"React \u65c5\u6e38\u7f51"})]}),Object(S.jsx)(M.a.Search,{onSearch:function(t){return e.push("/search/"+t)},placeholder:"\u8bf7\u8f93\u5165\u65c5\u6e38\u76ee\u7684\u5730\u3001\u4e3b\u9898\u3001\u6216\u5173\u952e\u5b57",className:T.a["search-input"]})]}),Object(S.jsxs)(L.a,{mode:"horizontal",className:T.a["main-menu"],children:[Object(S.jsx)(L.a.Item,{children:"\u65c5\u6e38\u9996\u9875"},1),Object(S.jsx)(L.a.Item,{children:"\u5468\u672b\u6e38"},2),Object(S.jsx)(L.a.Item,{children:"\u8ddf\u56e2\u6e38"},3),Object(S.jsx)(L.a.Item,{children:"\u81ea\u7531\u884c"},4),Object(S.jsx)(L.a.Item,{children:"\u79c1\u5bb6\u56e2"},5),Object(S.jsx)(L.a.Item,{children:"\u90ae\u8f6e"},6),Object(S.jsx)(L.a.Item,{children:"\u666f\u70b9+\u9152\u5e97"},7),Object(S.jsx)(L.a.Item,{children:"\u5f53\u5730\u6e38\u73a9"},8),Object(S.jsx)(L.a.Item,{children:"\u4e3b\u9898\u6e38"},9),Object(S.jsx)(L.a.Item,{children:"\u5b9a\u5236\u6e38"},10),Object(S.jsx)(L.a.Item,{children:"\u6e38\u5b66"},11),Object(S.jsx)(L.a.Item,{children:"\u7b7e\u8bc1"},12),Object(S.jsx)(L.a.Item,{children:"\u4f01\u4e1a\u90ae"},13),Object(S.jsx)(L.a.Item,{children:"\u9ad8\u7aef\u6e38"},14),Object(S.jsx)(L.a.Item,{children:"\u7231\u73a9\u6237\u5916"},15),Object(S.jsx)(L.a.Item,{children:"\u4fdd\u9669"},16)]})]})},Z=n(216),$=n.n(Z),ee=n(374),te=n(370),ne=n.p+"static/media/carousel_1.8a3dd591.jpg",re=n.p+"static/media/carousel_2.b79314aa.jpg",ae=n.p+"static/media/carousel_3.39c09c71.jpg",ce=function(){return Object(S.jsxs)(ee.a,{autoplay:!0,className:$.a.slider,children:[Object(S.jsx)(te.a,{src:ne}),Object(S.jsx)(te.a,{src:re}),Object(S.jsx)(te.a,{src:ae})]})},ie=n(217),se=n.n(ie),oe=[{title:"\u4e3b\u9898\u65c5\u6e38",subMenu:[{title:"\u7238\u5988\u6e38",subMenu:["\u7948\u798f\u62dc\u4f5b","\u53e4\u9547\u6e38\u73a9","\u6842\u6797\u5c71\u6c34","\u7ea2\u8272\u4e4b\u65c5"]},{title:"\u4eb2\u5b50\u6e38",subMenu:["\u4e0a\u6d77\u8fea\u58eb\u5c3c","\u63a2\u9669\u4f53\u9a8c","\u6d77\u6d0b\u516c\u56ed","\u611f\u53d7\u540d\u6821"]},{title:"\u871c\u6708\u6e38",subMenu:["\u6d6a\u6f2b\u6d77\u5c9b","\u8c6a\u534e\u9152\u5e97","\u8d2d\u7269\u8840\u62fc","\u5168\u7403\u5a5a\u793c"]}]},{title:"\u5468\u8fb9\u6e38",subMenu:[{title:"\u5468\u8fb9\u76ee\u7684\u5730",subMenu:["\u676d\u5dde","\u5357\u4eac","\u82cf\u5dde","\u9ec4\u5c71"]},{title:"\u70ed\u95e8\u666f\u70b9",subMenu:["\u666e\u9640\u5c71","\u5343\u5c9b\u6e56","\u4e4c\u9547\u53e4\u9547","\u5b8f\u6751"]}]},{title:"\u56fd\u5185\u6e38",subMenu:[{title:"\u5e7f\u4e1c",subMenu:["\u5e7f\u5dde","\u6df1\u5733","\u73e0\u6d77","\u60e0\u5dde"]},{title:"\u6d59\u6c5f",subMenu:["\u676d\u5dde","\u666e\u9640\u5c71","\u5343\u5c9b\u6e56","\u5b81\u6ce2"]},{title:"\u6c5f\u82cf",subMenu:["\u821f\u5c71","\u4e4c\u9547","\u5e72\u5c71","\u6e56\u5dde"]}]},{title:"\u4e1c\u5357\u4e9a",subMenu:[{title:"\u70ed\u95e8\u76ee\u7684\u5730",subMenu:["\u65b0\u52a0\u5761","\u5df4\u5398\u5c9b","\u8d8a\u5357","\u67ec\u57d4\u5be8"]},{title:"\u70ed\u95e8\u666f\u70b9",subMenu:["\u4e0b\u9f99\u6e7e","\u5434\u54e5\u7a9f","\u897f\u54c8\u52aa\u514b","\u69df\u57ce\u73cd\u73e0\u5c9b"]}]},{title:"\u6b27\u6d32",subMenu:[{title:"\u70ed\u95e8\u90ae\u8f6e\u822a\u7ebf",subMenu:["\u6b27\u6d32\u6cb3\u8f6e","\u5317\u6b27\u90ae\u8f6e","\u7231\u7434\u6d77\u90ae\u8f6e","\u82f1\u4f26\u4e09\u5c9b"]},{title:"\u70ed\u95e8\u666f\u70b9",subMenu:["\u8d1d\u52a0\u5c14\u6e56","\u666e\u7f57\u65fa\u65af","\u963f\u5c14\u5351\u65af","\u5723\u6258\u91cc\u5c3c\u5c9b"]},{title:"\u871c\u6708\u6e38",subMenu:["\u6781\u5149\u4e2d\u5fc3","\u4fc4\u7f57\u65af\u8fdc\u4e1c\u5730\u533a","\u82f1\u683c\u5170\u5c11\u5973\u5cf0","\u73bb\u7483\u6d77\u6ee9"]}]}],le=n(382),ue=function(){return Object(S.jsx)(L.a,{mode:"vertical",className:se.a["side-menu"],children:oe.map((function(e,t){return Object(S.jsx)(L.a.SubMenu,{title:Object(S.jsxs)("span",{children:[Object(S.jsx)(le.a,{}),e.title]}),children:e.subMenu.map((function(e,t){return Object(S.jsx)(L.a.SubMenu,{title:Object(S.jsxs)("span",{children:[Object(S.jsx)(le.a,{}),e.title]}),children:e.subMenu.map((function(e,t){return Object(S.jsx)(L.a.Item,{children:Object(S.jsxs)("span",{children:[Object(S.jsx)(le.a,{}),e]})},"sub-sub-menu-".concat(t))}))},"sub-menu-".concat(t))}))},"side-menu-".concat(t))}))})},de=n(181),je=n.n(de),pe=n(365),be=n(110),he=n(66),Oe=Object(O.k)((function(e){var t=e.id,n=e.size,r=e.imageSrc,a=e.price,c=e.title;e.history,e.location,e.match;return Object(S.jsxs)(g.b,{to:"detail/".concat(t),children:["large"===n?Object(S.jsx)(te.a,{src:r,height:285,width:490}):Object(S.jsx)(te.a,{src:r,height:120,width:240}),Object(S.jsxs)("div",{children:[Object(S.jsx)(I.a.Text,{type:"secondary",children:c.slice(0,25)}),Object(S.jsxs)(I.a.Text,{type:"danger",strong:!0,children:["\uffe5",a," \u8d77"]})]})]})})),ge=function(e){var t=e.title,n=e.sideImage,r=e.products;return Object(S.jsxs)("div",{className:je.a.content,children:[Object(S.jsx)(pe.a,{orientation:"left",children:t}),Object(S.jsxs)(be.a,{children:[Object(S.jsx)(he.a,{span:4,children:Object(S.jsx)("img",{src:n,alt:"",className:je.a["side-image"]})}),Object(S.jsxs)(he.a,{span:20,children:[Object(S.jsxs)(be.a,{children:[Object(S.jsx)(he.a,{span:12,children:Object(S.jsx)(Oe,{id:r[0].id,size:"large",title:r[0].title,imageSrc:r[0].touristRoutePictures[0].url,price:r[0].price})}),Object(S.jsxs)(he.a,{span:12,children:[Object(S.jsxs)(be.a,{children:[Object(S.jsx)(he.a,{span:12,children:Object(S.jsx)(Oe,{id:r[1].id,size:"small",title:r[1].title,imageSrc:r[1].touristRoutePictures[0].url,price:r[1].price})}),Object(S.jsx)(he.a,{span:12,children:Object(S.jsx)(Oe,{id:r[2].id,size:"small",title:r[2].title,imageSrc:r[2].touristRoutePictures[0].url,price:r[2].price})})]}),Object(S.jsxs)(be.a,{children:[Object(S.jsx)(he.a,{span:12,children:Object(S.jsx)(Oe,{id:r[3].id,size:"small",title:r[3].title,imageSrc:r[3].touristRoutePictures[0].url,price:r[3].price})}),Object(S.jsx)(he.a,{span:12,children:Object(S.jsx)(Oe,{id:r[4].id,size:"small",title:r[4].title,imageSrc:r[4].touristRoutePictures[0].url,price:r[4].price})})]})]})]}),Object(S.jsxs)(be.a,{children:[Object(S.jsx)(he.a,{span:6,children:Object(S.jsx)(Oe,{id:r[5].id,size:"small",title:r[5].title,imageSrc:r[5].touristRoutePictures[0].url,price:r[5].price})}),Object(S.jsx)(he.a,{span:6,children:Object(S.jsx)(Oe,{id:r[6].id,size:"small",title:r[6].title,imageSrc:r[6].touristRoutePictures[0].url,price:r[6].price})}),Object(S.jsx)(he.a,{span:6,children:Object(S.jsx)(Oe,{id:r[7].id,size:"small",title:r[7].title,imageSrc:r[7].touristRoutePictures[0].url,price:r[7].price})}),Object(S.jsx)(he.a,{span:6,children:Object(S.jsx)(Oe,{id:r[8].id,size:"small",title:r[8].title,imageSrc:r[8].touristRoutePictures[0].url,price:r[8].price})})]})]})]})]})},me=n(126),xe=n.n(me),fe=n(376),ye=n(369),ve=[{title:"title",dataIndex:"title",key:"title",align:"left",width:120},{title:"description",dataIndex:"description",key:"description",align:"center"}],_e=function(e){var t=e.title,n=e.shortDescription,r=e.price,a=e.coupons,c=e.discount,i=e.rating,s=(e.pictures,[{key:0,title:"\u8def\u7ebf\u540d\u79f0",description:t},{key:1,title:"\u4ef7\u683c",description:Object(S.jsxs)(S.Fragment,{children:["\xa5"," ",Object(S.jsx)(I.a.Text,{type:"danger",strong:!0,children:r})]})},{key:2,title:"\u9650\u65f6\u62a2\u8d2d\u6298\u6263",description:c?Object(S.jsxs)(S.Fragment,{children:["\xa5 ",Object(S.jsx)(I.a.Text,{delete:!0,children:r})," ",Object(S.jsxs)(I.a.Text,{type:"danger",strong:!0,children:["\xa5 ",c]})]}):"\u6682\u65e0\u6298\u6263"},{key:3,title:"\u9886\u53d6\u4f18\u60e0",description:a?c:"\u65e0\u4f18\u60e0\u5238\u53ef\u9886"},{key:4,title:"\u7ebf\u8def\u8bc4\u4ef7",description:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(fe.a,{allowHalf:!0,defaultValue:+i}),Object(S.jsxs)(I.a.Text,{style:{marginLeft:10},children:[i," \u661f"]})]})}]);return Object(S.jsxs)("div",{className:xe.a["intro-container"],children:[Object(S.jsx)(I.a.Title,{level:4,children:t}),Object(S.jsx)(I.a.Text,{children:n}),Object(S.jsxs)("div",{className:xe.a["intro-detail-content"],children:[Object(S.jsxs)(I.a.Text,{style:{marginLeft:20},children:["\uffe5",Object(S.jsx)("span",{className:xe.a["intro-detail-strong-text"],children:r}),"/\u4eba\u8d77"]}),Object(S.jsxs)(I.a.Text,{style:{marginLeft:50},children:[Object(S.jsx)("span",{className:xe.a["intro-detail-strong-text"],children:i}),"\u5206"]}),Object(S.jsxs)(ee.a,{autoplay:!0,slidesToShow:3,children:[Object(S.jsx)(te.a,{height:150,src:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg1.3lian.com%2F2015%2Fa1%2F144%2Fd%2F83.jpg&refer=http%3A%2F%2Fimg1.3lian.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1619943289&t=250698052773e9e8280bdd987bef0f9a"}),Object(S.jsx)(te.a,{height:150,src:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fattach.bbs.miui.com%2Fforum%2F201312%2F03%2F165620x7cknad7vruvec1z.jpg&refer=http%3A%2F%2Fattach.bbs.miui.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1619943521&t=ec2353f45c94c9d0f501095f04ce1afc"}),Object(S.jsx)(te.a,{height:150,src:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3555255749,4279001161&fm=26&gp=0.jpg"})]}),Object(S.jsx)(ye.a,{columns:ve,dataSource:s,size:"small",bordered:!1,pagination:!1})]})]})},ke=n(379),we=n(366),Ie=function(e){var t=e.data;return Object(S.jsx)(ke.b,{dataSource:t,itemLayout:"horizontal",renderItem:function(e){return Object(S.jsx)("li",{children:Object(S.jsx)(we.a,{author:e.author,avatar:e.avatar,content:e.content,datetime:e.createDate})})}})},Ce=n(239),Se=Ce.a.CheckableTag,Pe=function(e){var t=Object(o.useState)(!1),n=Object(z.a)(t,2),r=n[0],a=n[1];return Object(S.jsx)(Se,Object(j.a)(Object(j.a)({},e),{},{checked:r,onChange:function(e){a(e)}}))},ze=I.a.Text,Ne=function(e){var t=e.title,n=e.tags;return Object(S.jsxs)("div",{children:[Object(S.jsxs)(ze,{style:{marginRight:40,fontSize:15,fontWeight:500},children:[t," :"," "]}),n.map((function(e,t){return t===n.length-1?Object(S.jsx)(Pe,{children:e},"filter".concat(t)):Object(S.jsxs)("span",{children:[Object(S.jsx)(Pe,{children:e}),Object(S.jsx)(pe.a,{type:"vertical"})]},"filter".concat(t))}))]})},Te=n(182),Fe=n.n(Te),Re=function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Ne,{title:"\u8def\u7ebf\u8bc4\u4ef7",tags:["1\u661f","2\u661f","3\u661f","4\u661f","5\u661f"]}),Object(S.jsx)(pe.a,{dashed:!0,className:Fe.a["filter-divider"]}),Object(S.jsx)(Ne,{title:"\u51fa\u53d1\u57ce\u5e02",tags:["\u5317\u4eac","\u4e0a\u6d77","\u5e7f\u5dde","\u6df1\u5733"]}),Object(S.jsx)(pe.a,{dashed:!0,className:Fe.a["filter-divider"]}),Object(S.jsx)(Ne,{title:"\u884c\u7a0b\u5929\u6570",tags:["2\u65e5","3\u65e5","4\u65e5","5\u65e5","6\u65e5"]}),Object(S.jsx)(pe.a,{dashed:!0}),Object(S.jsx)(Ne,{title:"\u65c5\u7a0b\u7c7b\u578b",tags:["\u8ddf\u56e2\u6e38","\u81ea\u7531\u884c","\u81ea\u9a7e\u6e38","\u9ad8\u7aef\u5b9a\u5236"]}),Object(S.jsx)(pe.a,{dashed:!0}),Object(S.jsx)(Ne,{title:"\u51fa\u53d1\u65f6\u95f4",tags:["\u6625\u8282","\u6e05\u660e","\u52b3\u52a8\u8282"]})]})},Le=n(380),Ae=n(383),Me=n(384),He=I.a.Text,De=function(e){var t=e.icon,n=e.text;return Object(S.jsxs)(Le.b,{children:[l.a.createElement(t),n]})},Ve=function(e){var t=e.data,n=e.paging,r=e.onPageChange,a=t.map((function(e){return{id:e.id,title:e.title,description:e.description,tags:Object(S.jsxs)(S.Fragment,{children:[e.departureCity&&Object(S.jsxs)(Ce.a,{color:"#f50",children:[e.departureCity,"\u51fa\u53d1"]}),e.travelDays&&Object(S.jsxs)(Ce.a,{color:"#108ee9",children:[e.travelDays," \u5929 "]}),e.discountPresent&&Object(S.jsx)(Ce.a,{color:"#87d068",children:"\u8d85\u4f4e\u6298\u6263"}),e.tripType&&Object(S.jsx)(Ce.a,{color:"#2db7f5",children:e.tripType})]}),imgSrc:e.touristRoutePictures[0].url,price:e.price,originalPrice:e.originalPrice,discountPresent:e.discountPresent,rating:e.rating}}));return Object(S.jsx)(ke.b,{itemLayout:"vertical",size:"large",pagination:!!n&&{current:n.currentPage,onChange:function(e){return r&&r(e,n.pageSize)},pageSize:n.pageSize,total:n.totalCount},dataSource:a,footer:n&&Object(S.jsxs)("div",{children:["\u641c\u7d22\u603b\u8def\u7ebf: ",Object(S.jsx)(He,{strong:!0,children:n.totalCount})," \u6761"]}),renderItem:function(e){return Object(S.jsxs)(ke.b.Item,{actions:[Object(S.jsx)(De,{icon:Ae.a,text:"156"},"list-vertical-star-o"),Object(S.jsx)(De,{icon:Me.a,text:"156"},"list-vertical-like-o"),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(fe.a,{defaultValue:3}),Object(S.jsx)(He,{strong:!0,className:"ant-rate-text",children:e.rating})]})],extra:Object(S.jsx)(te.a,{width:272,height:172,alt:"image",src:e.imgSrc}),children:[Object(S.jsx)(ke.b.Item.Meta,{title:Object(S.jsxs)(S.Fragment,{children:[e.discountPresent?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(He,{style:{fontSize:20,fontWeight:400},delete:!0,children:["\xa5 ",e.originalPrice]}),Object(S.jsxs)(He,{type:"danger",style:{fontSize:20,fontWeight:400},children:[" ","\xa5 ",e.price]})]}):Object(S.jsxs)(He,{style:{fontSize:20,fontWeight:400},children:["\xa5 ",e.price]}),Object(S.jsxs)(g.b,{to:"/detail/"+e.id,children:[" ",e.title]})]}),description:e.tags}),e.description]},e.title)}})},qe=n(371),Ee=n(375),Xe=n(240),Be=n(385),Je=qe.a.Meta,Ke=I.a.Title,We=I.a.Text,Qe=[{title:"\u9879\u76ee",dataIndex:"item",key:"item"},{title:"\u91d1\u989d",dataIndex:"amount",key:"amount"}],Ge=function(e){var t=e.loading,n=e.originalPrice,r=e.price,a=e.onShoppingCartClear,c=e.onCheckout,i=[{key:1,item:"\u539f\u4ef7",amount:Object(S.jsxs)(We,{delete:!0,children:["\xa5 ",n]})},{key:3,item:"\u73b0\u4ef7",amount:Object(S.jsxs)(Ke,{type:"danger",level:2,children:["\xa5 ",r]})}];return Object(S.jsx)(qe.a,{style:{width:300,marginTop:16},actions:[Object(S.jsxs)(A.a,{type:"primary",danger:!0,onClick:c,loading:t,children:[Object(S.jsx)(Xe.a,{}),"\u4e0b\u5355\u652f\u4ed8"]}),Object(S.jsxs)(A.a,{onClick:a,loading:t,children:[Object(S.jsx)(Be.a,{}),"\u6e05\u7a7a"]})],children:Object(S.jsx)(Ee.a,{loading:t,active:!0,children:Object(S.jsx)(Je,{title:Object(S.jsx)(Ke,{level:2,children:"\u603b\u8ba1"}),description:Object(S.jsx)(ye.a,{columns:Qe,dataSource:i,showHeader:!1,size:"small",bordered:!1,pagination:!1})})})})},Ue=n(220),Ye=(n(357),n(221)),Ze=n.n(Ye),$e=function(e){Object(_.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(y.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={cvc:"",expiry:"",focus:"",name:"",number:""},e.handleInputFocus=function(t){e.setState({focus:t.target.name})},e.handleInputChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(B.a)({},r,a))},e}return Object(v.a)(n,[{key:"render",value:function(){return Object(S.jsxs)("div",{id:"PaymentForm",style:{marginTop:50},children:[Object(S.jsx)(Ue.a,{cvc:this.state.cvc,expiry:this.state.expiry,focused:this.state.focus,name:this.state.name,number:this.state.number}),Object(S.jsx)("form",{className:Ze.a["payment-form"],children:Object(S.jsx)(M.a,{type:"tel",name:"number",placeholder:"Card Number",onChange:this.handleInputChange,onFocus:this.handleInputFocus})})]})}}]),n}(l.a.Component),et=n(386),tt=qe.a.Meta,nt=I.a.Title,rt=I.a.Text,at=[{title:"\u4ea7\u54c1",dataIndex:"item",key:"item"},{title:"\u4ef7\u683c",dataIndex:"amount",key:"amount"}],ct=function(e){var t=e.loading,n=e.order,r=e.onCheckout,a=Object(O.g)(),c=n?n.orderItems.map((function(e,t){return{key:t,item:e.touristRoute.title,amount:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(rt,{delete:!0,children:["\xa5 ",e.originalPrice," "]})," ",Object(S.jsxs)(rt,{type:"danger",strong:!0,children:["\xa5 ",e.originalPrice*e.discountPresent]})]})}})):[];return Object(S.jsx)(qe.a,{style:{width:600,marginTop:50},actions:[n&&"Completed"===n.state?Object(S.jsxs)(A.a,{type:"primary",onClick:function(){a.push("/")},loading:t,children:[Object(S.jsx)(et.a,{}),"\u56de\u5230\u9996\u9875"]}):Object(S.jsxs)(A.a,{type:"primary",danger:!0,onClick:r,loading:t,children:[Object(S.jsx)(Xe.a,{}),"\u652f\u4ed8"]})],children:Object(S.jsx)(Ee.a,{loading:t,active:!0,children:Object(S.jsx)(tt,{title:Object(S.jsx)(nt,{level:2,children:n&&"Completed"===n.state?"\u652f\u4ed8\u6210\u529f":"\u603b\u8ba1"}),description:Object(S.jsx)(ye.a,{columns:at,dataSource:c,showHeader:!1,size:"small",bordered:!1,pagination:!1})})})})},it=n(152),st=n.p+"static/media/sider_2019_12-09.d016ce66.png",ot=n.p+"static/media/sider_2019_02-04.600e70c8.png",lt=n.p+"static/media/sider_2019_02-04-2.e8593237.png",ut=n(367),dt=n(222),jt=n.n(dt),pt=function(e){var t=e.children;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Y,{}),Object(S.jsx)("div",{className:jt.a["page-content"],children:t}),Object(S.jsx)(P,{})]})},bt=function(e){Object(_.a)(n,e);var t=Object(k.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).state={loading:!0,error:null,productList:[]},r}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(f.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("http://123.56.149.216:8080/api/productCollections",{});case 3:t=e.sent,n=t.data,this.setState({loading:!1,error:null,productList:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({error:e.t0.message,loading:!1});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.t,t=this.state,n=t.productList,r=t.loading,a=t.error;return r?Object(S.jsx)(it.a,{size:"large",style:{marginTop:200,marginBottom:200,marginLeft:"auto",marginRight:"auto",width:"100%"}}):a?Object(S.jsxs)("div",{children:["\u7f51\u7ad9\u51fa\u9519\uff1a",a]}):Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(pt,{children:[Object(S.jsxs)(be.a,{style:{marginTop:20},children:[Object(S.jsx)(he.a,{span:6,children:Object(S.jsx)(ue,{})}),Object(S.jsx)(he.a,{span:18,children:Object(S.jsx)(ce,{})})]}),Object(S.jsx)(ge,{title:Object(S.jsx)(I.a.Title,{level:3,type:"warning",children:e("home_page.hot_recommended")}),sideImage:st,products:n[0].touristRoutes}),Object(S.jsx)(ge,{title:Object(S.jsx)(I.a.Title,{level:3,type:"danger",children:e("home_page.new_arrival")}),sideImage:ot,products:n[1].touristRoutes}),Object(S.jsx)(ge,{title:Object(S.jsx)(I.a.Title,{level:3,type:"success",children:e("home_page.domestic_travel")}),sideImage:lt,products:n[2].touristRoutes})]})})}}]),n}(l.a.Component),ht=Object(ut.a)()(bt),Ot=n(73),gt=n.n(Ot),mt=n(241),xt=w.a.Header,ft=w.a.Footer,yt=w.a.Content,vt=function(e){var t=Object(S.jsxs)(L.a,{children:[Object(S.jsx)(L.a.Item,{children:"\u4e2d\u6587"}),Object(S.jsx)(L.a.Item,{children:"English"})]});return Object(S.jsxs)(w.a,{className:gt.a["user-layout-container"],children:[Object(S.jsx)(xt,{className:gt.a.header,children:Object(S.jsx)("div",{className:gt.a.lang,children:Object(S.jsx)(R.a,{overlay:t,children:Object(S.jsxs)(A.a,{children:[" ","\u9009\u62e9\u8bed\u8a00 ",Object(S.jsx)(mt.a,{})]})})})}),Object(S.jsx)(yt,{className:gt.a.content,children:Object(S.jsxs)("div",{className:gt.a.top,children:[Object(S.jsx)("div",{className:gt.a["content-header"],children:Object(S.jsxs)(g.b,{to:"/",children:[Object(S.jsx)("img",{alt:"logo",className:gt.a.logo,src:F}),Object(S.jsx)("span",{className:gt.a.title,children:"React \u65c5\u6e38\u7f51"})]})}),Object(S.jsx)("div",{className:gt.a.desc,children:"\u6155\u8bfe\u7f51 \u662f\u6211\u671d\u6700\u5177\u5f71\u54cd\u529b\u7684 \u7ebf\u4e0a\u8bfe\u7a0b\u5b66\u4e60\u7f51\u7ad9"}),e.children]})}),Object(S.jsx)(ft,{style:{textAlign:"center"},children:"Footer\u5c31\u4e0d\u5199\u4e86\uff0c\u592a\u7d2f\u4e86"})]})},_t=n(224),kt=n.n(_t),wt=n(372),It=n(123),Ct={labelCol:{span:8},wrapperCol:{span:16}},St={wrapperCol:{offset:8,span:16}},Pt=function(){var e=V((function(e){return e.user.loading})),t=V((function(e){return e.user.token})),n=(V((function(e){return e.user.error})),Object(D.b)()),r=Object(O.g)();return Object(o.useEffect)((function(){null!==t&&r.push("/")}),[t]),Object(S.jsxs)(wt.a,Object(j.a)(Object(j.a)({},Ct),{},{name:"basic",initialValues:{remember:!0},onFinish:function(e){Q.b.loading({content:"\u767b\u5f55\u4e2d...",key:"login"}),n(G({email:e.username,password:e.password}))},onFinishFailed:function(e){console.log("Failed:",e)},className:kt.a["register-form"],children:[Object(S.jsx)(wt.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(S.jsx)(M.a,{})}),Object(S.jsx)(wt.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(S.jsx)(M.a.Password,{})}),Object(S.jsx)(wt.a.Item,Object(j.a)(Object(j.a)({},St),{},{name:"remember",valuePropName:"checked",children:Object(S.jsx)(It.a,{children:"Remember me"})})),Object(S.jsx)(wt.a.Item,Object(j.a)(Object(j.a)({},St),{},{children:Object(S.jsx)(A.a,{type:"primary",htmlType:"submit",loading:e,children:"Submit"})}))]}))},zt=function(){return Object(S.jsx)(vt,{children:Object(S.jsx)(Pt,{})})},Nt=n(225),Tt=n.n(Nt),Ft={labelCol:{span:8},wrapperCol:{span:16}},Rt={wrapperCol:{offset:8,span:16}},Lt=function(){var e=Object(O.g)(),t=function(){var t=Object(f.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Q.b.loading({content:"\u52a0\u8f7d\u4e2d...",key:"register"}),t.next=4,W.a.post("http://123.56.149.216:8080/auth/register",{email:n.username,password:n.password,confirmPassword:n.confirm});case 4:Q.b.success({content:"\u6ce8\u518c\u6210\u529f!",key:"register",duration:2}),e.push("/signIn"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Q.b.error({content:"\u6ce8\u518c\u5931\u8d25",key:"register",duration:2});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(S.jsxs)(wt.a,Object(j.a)(Object(j.a)({},Ft),{},{name:"basic",initialValues:{remember:!0},onFinish:t,onFinishFailed:function(e){console.log("Failed:",e)},className:Tt.a["register-form"],children:[Object(S.jsx)(wt.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(S.jsx)(M.a,{})}),Object(S.jsx)(wt.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(S.jsx)(M.a.Password,{})}),Object(S.jsx)(wt.a.Item,{label:"Confirm Password",name:"confirm",rules:[{required:!0,message:"\u5fc5\u987b\u518d\u6b21\u8f93\u5165\u5bc6\u7801!"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject("\u5bc6\u7801\u786e\u8ba4\u4e0d\u4e00\u81f4\uff01"):Promise.resolve()}}}],children:Object(S.jsx)(M.a.Password,{})}),Object(S.jsx)(wt.a.Item,Object(j.a)(Object(j.a)({},Rt),{},{name:"remember",valuePropName:"checked",children:Object(S.jsx)(It.a,{children:"Remember me"})})),Object(S.jsx)(wt.a.Item,Object(j.a)(Object(j.a)({},Rt),{},{children:Object(S.jsx)(A.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))},At=function(){return Object(S.jsx)(vt,{children:Object(S.jsx)(Lt,{})})},Mt=n(368),Ht=n(378),Dt=n(96),Vt=n.n(Dt),qt=[{author:"Han Solo",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",content:"\u524d\u5f80\u7801\u5934\u642d\u4e58\u5feb\u8247\u524d\u5f80\u6f5c\u6c34\u8247\u5e73\u53f0\uff0c\u642d\u4e58\u6f5c\u6c34\u8247\u6f5c\u51657\u7c73\u6df1\u7ea2\u6d77\uff0c\u6b23\u8d4f\u795e\u79d8\u7f8e\u4e3d\u7684\u7ea2\u6d77\u6d77\u5e95\u4e16\u754c\u3002\u5e76\u6709\u6f5c\u6c34\u5458\u4e3a\u60a8\u732e\u4e0a\u6d77\u5e95\u5582\u9c7c\u7684\u8868\u6f14\u3002\u542b\u63a5\u9001\uff0c\u4e2d\u6587\u5bfc\u6e38\u966a\u540c",createDate:"2020-01-05"},{author:"Han Solo",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",content:"\u65e9\u4e0a5\u70b9\u5de6\u53f3\u4ece\u9152\u5e97\u51fa\u53d1\u524d\u5f80\u7801\u5934\uff0c\u642d\u4e58\u5c0f\u8239\u524d\u5f80\u5c3c\u7f57\u6cb3\u897f\u5cb8\u3002\u5c0f\u8239\u4e0a\u51c6\u5907\u6709\u70ed\u5496\u5561\uff0c\u8336\uff0c\u4ee5\u53ca\u5c0f\u70b9\u5fc3\u3002\u642d\u4e58\u70ed\u6c14\u7403\u8fce\u63a5\u65e5\u51fa\uff0c\u5e76\u4fef\u77b0\u5362\u514b\u7d22\u3002\u9014\u5f84\u54c8\u5e03\u57ce\uff0c\u5973\u738b\u795e\u5e99\uff0c\u5e1d\u738b\u8c37\u7b49\u666f\u70b9\uff0c\u4ece\u9ad8\u7a7a\u4f53\u9a8c\u4e0d\u4e00\u6837\u7684\u5362\u514b\u7d22\u3002\u843d\u5730\u540e\u4f1a\u4e3e\u529e\u4e00\u4e2a\u5c0f\u7684\u5e86\u795d\u4eea\u5f0f\uff0c\u5e76\u4e3a\u5ba2\u4eba\u9881\u53d1\u8bc1\u4e66\u3002\u4e4b\u540e\u4e13\u8f66\u9001\u8fd4\u9152\u5e97\u3002",createDate:"2020-02-06"},{author:"Han Solo",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",content:"\u884c\u7a0b\u5b89\u6392\u4ec5\u4f9b\u53c2\u8003\uff0c\u89c6\u5f53\u5929\u5177\u4f53\u5929\u6c14\u60c5\u51b5\u800c\u5b9a\u3002\u82e5\u56e0\u5929\u6c14\u72b6\u51b5\u800c\u65e0\u6cd5\u4e58\u5750\u70ed\u6c14\u7403\uff0c\u5219\u539f\u4ef7\u9000\u8fd8\uff01",createDate:"2020-01-04"},{author:"Han Solo",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",content:"\u642d\u4e58\u7279\u6b8a\u5b9a\u5236\u7684\u6e38\u8239\uff0c\u5728\u6e38\u8239\u5e95\u90e8\u8bbe\u6709\u5927\u578b\u89c2\u5149\u7a97\uff0c\u4fbf\u4e8e\u6b23\u8d4f\u5947\u5999\u7684\u6d77\u5e95\u4e16\u754c\u3002\u5305\u542b\u63a5\u9001\uff0c\u4e2d\u6587\u5bfc\u6e38\u966a\u540c\u6ce8\u610f\uff1a\u4e0a\u4e0b\u8239\u65f6\u8bf7\u6ce8\u610f\u5b89\u5168\uff0c\u4f9d\u6b21\u6392\u961f\u5207\u52ff\u62e5\u6324\u3001\u5c0f\u5fc3\u5730\u6ed1\u300270\u7f8e\u91d1/\u4eba\uff084\u4eba\u8d77\uff09",createDate:"2020-02-05"}],Et=Object(J.b)("productDetail/getProductDetail",function(){var e=Object(f.a)(x.a.mark((function e(t,n){var r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.get("http://123.56.149.216:8080/api/touristRoutes/".concat(t));case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Xt=Object(J.c)({name:"productDetail",initialState:{loading:!0,error:null,data:null},reducers:{},extraReducers:(a={},Object(B.a)(a,Et.pending.type,(function(e){e.loading=!0})),Object(B.a)(a,Et.fulfilled.type,(function(e,t){e.data=t.payload,e.loading=!1,e.error=null})),Object(B.a)(a,Et.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),a)}),Bt=n(387),Jt=Object(J.b)("shoppingCart/getShoppingCart",function(){var e=Object(f.a)(x.a.mark((function e(t,n){var r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.get("http://123.56.149.216:8080/api/shoppingCart",{headers:{Authorization:"bearer ".concat(t)}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a.shoppingCartItems);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Kt=Object(J.b)("shoppingCart/addShoppingCartItem",function(){var e=Object(f.a)(x.a.mark((function e(t,n){var r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.post("http://123.56.149.216:8080/api/shoppingCart/items",{touristRouteId:t.touristRouteId},{headers:{Authorization:"bearer ".concat(t.jwt)}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a.shoppingCartItems);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Wt=Object(J.b)("shoppingCart/checkout",function(){var e=Object(f.a)(x.a.mark((function e(t,n){var r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.post("http://123.56.149.216:8080/api/shoppingCart/checkout",null,{headers:{Authorization:"bearer ".concat(t)}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Qt=Object(J.b)("shoppingCart/clearShoppingCartItem",function(){var e=Object(f.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.delete("http://123.56.149.216:8080/api/shoppingCart/items/(".concat(t.itemIds.join(","),")"),{headers:{Authorization:"bearer ".concat(t.jwt)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Gt=Object(J.c)({name:"shppingCart",initialState:{loading:!1,error:null,items:[]},reducers:{},extraReducers:(c={},Object(B.a)(c,Jt.pending.type,(function(e){e.loading=!0})),Object(B.a)(c,Jt.fulfilled.type,(function(e,t){e.items=t.payload,e.loading=!1,e.error=null})),Object(B.a)(c,Jt.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),Object(B.a)(c,Kt.pending.type,(function(e){e.loading=!0})),Object(B.a)(c,Kt.fulfilled.type,(function(e,t){e.items=t.payload,e.loading=!1,e.error=null})),Object(B.a)(c,Kt.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),Object(B.a)(c,Qt.pending.type,(function(e){e.loading=!0})),Object(B.a)(c,Qt.fulfilled.type,(function(e){e.items=[],e.loading=!1,e.error=null})),Object(B.a)(c,Qt.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),Object(B.a)(c,Wt.pending.type,(function(e){e.loading=!0})),Object(B.a)(c,Wt.fulfilled.type,(function(e,t){e.items=[],e.loading=!1,e.error=null})),Object(B.a)(c,Wt.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),c)}),Ut=Mt.a.RangePicker,Yt=function(e){var t=Object(O.i)().touristRouteId,n=V((function(e){return e.productDetail.loading})),r=V((function(e){return e.productDetail.error})),a=V((function(e){return e.productDetail.data})),c=V((function(e){return e.user.token})),i=V((function(e){return e.shoppingCart.loading})),s=Object(O.g)(),l=Object(D.b)();return Object(o.useEffect)((function(){l(Et(t))}),[]),n?Object(S.jsx)(it.a,{size:"large",style:{marginTop:200,marginBottom:200,marginLeft:"auto",marginRight:"auto",width:"100%"}}):r?Object(S.jsxs)("div",{children:["\u7f51\u7ad9\u51fa\u9519\uff1a",r]}):Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(pt,{children:[Object(S.jsx)("div",{className:Vt.a["product-intro-container"],children:Object(S.jsxs)(be.a,{children:[Object(S.jsx)(he.a,{span:13,children:Object(S.jsx)(_e,{title:a.title,shortDescription:a.description,price:a.originalPrice,coupons:a.coupons,points:a.points,discount:a.price,rating:a.rating,pictures:a.touristRoutePictures.map((function(e){return e.url}))})}),Object(S.jsxs)(he.a,{span:11,children:[Object(S.jsxs)(A.a,{style:{marginTop:50,marginBottom:30,display:"block"},type:"primary",danger:!0,loading:i,onClick:function(){if(null!==c)return l(Kt({jwt:c,touristRouteId:a.id}));Q.b.warning({content:"\u8bf7\u5148\u767b\u5f55",duration:1}),s.push("/signIn")},children:[Object(S.jsx)(Bt.a,{}),"\u653e\u5165\u8d2d\u7269\u8f66"]}),Object(S.jsx)(Ut,{open:!0,style:{marginTop:20}})]})]})}),Object(S.jsx)(Ht.a,{className:Vt.a["product-detail-anchor"],children:Object(S.jsxs)(L.a,{mode:"horizontal",children:[Object(S.jsx)(L.a.Item,{children:Object(S.jsx)(Ht.a.Link,{href:"#feature",title:"\u4ea7\u54c1\u7279\u8272"})},"1"),Object(S.jsx)(L.a.Item,{children:Object(S.jsx)(Ht.a.Link,{href:"#fees",title:"\u8d39\u7528"})},"3"),Object(S.jsx)(L.a.Item,{children:Object(S.jsx)(Ht.a.Link,{href:"#notes",title:"\u9884\u5b9a\u987b\u77e5"})},"4"),Object(S.jsx)(L.a.Item,{children:Object(S.jsx)(Ht.a.Link,{href:"#comments",title:"\u7528\u6237\u8bc4\u4ef7"})},"5")]})}),Object(S.jsxs)("div",{className:Vt.a["product-detail-container"],id:"feature",children:[Object(S.jsx)(pe.a,{orientation:"center",children:Object(S.jsx)(I.a.Title,{level:3,children:"\u4ea7\u54c1\u7279\u8272"})}),Object(S.jsx)("div",{dangerouslySetInnerHTML:{__html:a.features},style:{margin:50}})]}),Object(S.jsxs)("div",{id:"fees",className:Vt.a["product-detail-container"],children:[Object(S.jsx)(pe.a,{orientation:"center",children:Object(S.jsx)(I.a.Title,{level:3,children:"\u8d39\u7528"})}),Object(S.jsx)("div",{dangerouslySetInnerHTML:{__html:a.fees},style:{margin:50}})]}),Object(S.jsxs)("div",{id:"notes",className:Vt.a["product-detail-container"],children:[Object(S.jsx)(pe.a,{orientation:"center",children:Object(S.jsx)(I.a.Title,{level:3,children:"\u9884\u5b9a\u987b\u77e5"})}),Object(S.jsx)("div",{dangerouslySetInnerHTML:{__html:a.notes},style:{margin:50}})]}),Object(S.jsxs)("div",{id:"comments",className:Vt.a["product-detail-container"],children:[Object(S.jsx)(pe.a,{orientation:"center",children:Object(S.jsx)(I.a.Title,{level:3,children:"\u7528\u6237\u8bc4\u8bba"})}),Object(S.jsx)("div",{style:{margin:40},children:Object(S.jsx)(Ie,{data:qt})})]})]})})},Zt=n(183),$t=n.n(Zt),en=Object(J.b)("productSearch/searchProduct",function(){var e=Object(f.a)(x.a.mark((function e(t,n){var r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="http://123.56.149.216:8080/api/touristRoutes?pageNumber=".concat(t.nextPage,"&pageSize=").concat(t.pageSize),t.keywords&&(r+="&keyword=".concat(t.keywords)),e.next=4,W.a.get(r);case 4:return a=e.sent,e.abrupt("return",{data:a.data,pagination:JSON.parse(a.headers["x-pagination"])});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),tn=Object(J.c)({name:"productSearch",initialState:{loading:!0,error:null,data:null,pagination:null},reducers:{},extraReducers:(i={},Object(B.a)(i,en.pending.type,(function(e){e.loading=!0})),Object(B.a)(i,en.fulfilled.type,(function(e,t){e.data=t.payload.data,e.pagination=t.payload.pagination,e.loading=!1,e.error=null})),Object(B.a)(i,en.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),i)}),nn=function(){var e=Object(O.i)().keywords,t=V((function(e){return e.productSearch.loading})),n=V((function(e){return e.productSearch.error})),r=V((function(e){return e.productSearch.pagination})),a=V((function(e){return e.productSearch.data})),c=Object(D.b)(),i=Object(O.h)();Object(o.useEffect)((function(){c(en({nextPage:1,pageSize:10,keywords:e}))}),[i]);return t?Object(S.jsx)(it.a,{size:"large",style:{marginTop:200,marginBottom:200,marginLeft:"auto",marginRight:"auto",width:"100%"}}):n?Object(S.jsxs)("div",{children:["\u7f51\u7ad9\u51fa\u9519\uff1a",n]}):Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(pt,{children:[Object(S.jsx)("div",{className:$t.a["pro duct-list-container"],children:Object(S.jsx)(Re,{})}),Object(S.jsx)("div",{className:$t.a["product-list-container"],children:Object(S.jsx)(Ve,{data:a,paging:r,onPageChange:function(t,n){c(en({nextPage:t,pageSize:n,keywords:e}))}})})]})})},rn=n(184),an=n.n(rn),cn=n(235),sn=function(e){var t=V((function(e){return e.shoppingCart.loading})),n=V((function(e){return e.shoppingCart.items})),r=V((function(e){return e.user.token})),a=Object(D.b)(),c=Object(O.g)();return Object(S.jsx)(pt,{children:Object(S.jsxs)(be.a,{children:[Object(S.jsx)(he.a,{span:16,children:Object(S.jsx)("div",{className:an.a["product-list-container"],children:Object(S.jsx)(Ve,{data:n.map((function(e){return e.touristRoute}))})})}),Object(S.jsx)(he.a,{span:8,children:Object(S.jsx)(cn.a,{children:Object(S.jsx)("div",{className:an.a["product-card-container"],children:Object(S.jsx)(Ge,{loading:t,originalPrice:n.map((function(e){return e.originalPrice})).reduce((function(e,t){return e+t}),0),price:n.map((function(e){return e.originalPrice*(e.discountPresent?e.discountPresent:1)})).reduce((function(e,t){return e+t}),0),onCheckout:function(){n.length<=0||(a(Wt(r)),c.push("/placeOrder"))},onShoppingCartClear:function(){a(Qt({jwt:r,itemIds:n.map((function(e){return e.id}))}))}})})})})]})})},on=Object(J.b)("order/placeOrder",function(){var e=Object(f.a)(x.a.mark((function e(t,n){var r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.post("http://123.56.149.216:8080/api/orders/".concat(t.orderaId,"/placeOrder"),null,{headers:{Authorization:"bearer ".concat(t.jwt)}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ln=Object(J.c)({name:"order",initialState:{loading:!1,error:null,currentOrder:null},reducers:{},extraReducers:(s={},Object(B.a)(s,on.pending.type,(function(e){e.loading=!0})),Object(B.a)(s,on.fulfilled.type,(function(e,t){e.currentOrder=t.payload,e.loading=!1,e.error=null})),Object(B.a)(s,on.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),Object(B.a)(s,Wt.pending.type,(function(e){e.loading=!0})),Object(B.a)(s,Wt.fulfilled.type,(function(e,t){e.currentOrder=t.payload,e.loading=!1,e.error=null})),Object(B.a)(s,Wt.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),s)}),un=function(e){var t=V((function(e){return e.user.token})),n=V((function(e){return e.order.loading})),r=V((function(e){return e.order.currentOrder})),a=Object(D.b)();return Object(S.jsx)(pt,{children:Object(S.jsxs)(be.a,{children:[Object(S.jsx)(he.a,{span:12,children:Object(S.jsx)($e,{})}),Object(S.jsx)(he.a,{span:12,children:Object(S.jsx)(ct,{loading:n,order:r,onCheckout:function(){a(on({jwt:t,orderaId:r.id}))}})})]})})},dn=function(e){var t=e.component,n=e.isAuthenticated,r=Object(p.a)(e,["component","isAuthenticated"]);return Object(S.jsx)(O.b,Object(j.a)({render:function(e){return n?l.a.createElement(t,e):Object(S.jsx)(O.a,{to:{pathname:"/signIn"}})}},r))};var jn=function(){var e=V((function(e){return e.user.token})),t=Object(D.b)();return Object(o.useEffect)((function(){e&&t(Jt(e))}),[e]),Object(S.jsx)("div",{className:h.a.App,children:Object(S.jsx)(g.a,{children:Object(S.jsxs)(O.d,{children:[Object(S.jsx)(O.b,{exact:!0,path:"/",component:ht}),Object(S.jsx)(O.b,{path:"/signIn",component:zt}),Object(S.jsx)(O.b,{path:"/register",component:At}),Object(S.jsx)(O.b,{path:"/detail/:touristRouteId",component:Yt}),Object(S.jsx)(O.b,{path:"/search/:keywords?",component:nn}),Object(S.jsx)(dn,{isAuthenticated:null!==e,path:"/shoppingCart",component:sn}),Object(S.jsx)(dn,{isAuthenticated:null!==e,path:"/placeOrder",component:un}),Object(S.jsx)(O.b,{render:function(){return Object(S.jsx)("h1",{children:"404 not found \u9875\u9762\u53bb\u706b\u661f\u4e86"})}})]})})})},pn=(n(359),n(124)),bn=n(125),hn=n(226),On={en:{translation:{translation:n(227)}},zh:{translation:{translation:hn}}};pn.a.use(bn.e).init({resources:On,lng:"zh",interpolation:{escapeValue:!1}});pn.a;var gn=n(232),mn={language:"zh",languageList:[{name:"\u4e2d\u6587",code:"zh"},{name:"English",code:"en"}]},xn=n(47),fn=n(185),yn=n(228),vn={key:"root",storage:n.n(yn).a,whitelist:["user"]},_n=Object(xn.c)({language:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return pn.a.changeLanguage(t.payload),Object(j.a)(Object(j.a)({},e),{},{language:t.payload});case X:return Object(j.a)(Object(j.a)({},e),{},{languageList:[].concat(Object(gn.a)(e.languageList),[t.payload])});default:return e}},productDetail:Xt.reducer,productSearch:tn.reducer,user:U.reducer,shoppingCart:Gt.reducer,order:ln.reducer}),kn=Object(fn.a)(vn,_n),wn=Object(J.a)({reducer:kn,devTools:!0}),In={store:wn,persistor:Object(fn.b)(wn)},Cn=n(229);W.a.defaults.headers["x-icode"]="qKhDxI15yz",d.a.render(Object(S.jsx)(l.a.StrictMode,{children:Object(S.jsx)(D.a,{store:In.store,children:Object(S.jsx)(Cn.a,{loading:null,persistor:In.persistor,children:Object(S.jsx)(jn,{})})})}),document.getElementById("root"))},65:function(e,t,n){e.exports={"app-header":"Header_app-header__3U82T","top-header":"Header_top-header__1Ua6u",inner:"Header_inner__3b3NM","button-group":"Header_button-group__1Dxrp","main-header":"Header_main-header__OC3nw","App-logo":"Header_App-logo__3z1ki","App-logo-spin":"Header_App-logo-spin__2JzXp","App-header":"Header_App-header__2O-Se","App-link":"Header_App-link__3VzeP",title:"Header_title__3_fub","search-input":"Header_search-input__19kTQ","main-menu":"Header_main-menu__iZfNm"}},73:function(e,t,n){e.exports={"user-layout-container":"userLayout_user-layout-container__9adIL",header:"userLayout_header__26SCf",lang:"userLayout_lang__3D8az",content:"userLayout_content__3CKdD",top:"userLayout_top__3l1Q2","content-header":"userLayout_content-header__258zk",logo:"userLayout_logo__2vF0P",title:"userLayout_title__ukf_k",desc:"userLayout_desc__2IcxL"}},96:function(e,t,n){e.exports={"page-content":"DetailPage_page-content__3WcGx","product-intro-container":"DetailPage_product-intro-container__1LVp4","product-detail-anchor":"DetailPage_product-detail-anchor__1-cm0","product-detail-container":"DetailPage_product-detail-container__1mM2i"}}},[[362,1,2]]]);
//# sourceMappingURL=main.eb1d6a4b.chunk.js.map